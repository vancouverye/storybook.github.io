<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ì—°í˜¸ì˜ ìŠ¤í† ë¦¬ë¶ â€” Fail-safe Final</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root{--bg:#0b0f17;--bg2:#0e1421;--glass:#0f1726cc;--solid:#0f1726;--ink:#eaf1fb;--mut:#9fb0c3;--line:#1c2a40;--pri:#6ea3ff;--pri2:#4f7ef3;--pri3:#325de0;--r:16px;--sh:0 22px 55px rgba(0,0,0,.45)}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif;color:var(--ink);
background:radial-gradient(70% 90% at 10% 0,#14213d 0,transparent 55%),radial-gradient(70% 80% at 100% 0,#12203a 0,transparent 50%),linear-gradient(180deg,#0a0f18 0,#0c1424 45%,#0a0f18 100%)}
.app{display:grid;grid-template-rows:68px 1fr;min-height:100vh}
.header{position:sticky;top:0;z-index:50;display:flex;align-items:center;gap:12px;padding:10px 16px;background:#0b1322cc;border-bottom:1px solid var(--line);backdrop-filter:blur(12px)}
.brand{font-weight:800}
.header-nav{margin-left:auto;display:flex;gap:8px;flex-wrap:wrap}
.btn{background:linear-gradient(180deg,#111b33,#0d1629);border:1px solid var(--line);color:var(--ink);padding:10px 14px;border-radius:12px;cursor:pointer;transition:.15s;box-shadow:inset 0 -1px 0 rgba(255,255,255,.04)}
.btn:hover{border-color:#2a3b5e;transform:translateY(-1px)}.btn.pri{background:linear-gradient(180deg,var(--pri),var(--pri2));border-color:transparent;color:#fff}
.main{padding:22px}.container{max-width:1100px;margin:0 auto;display:grid;gap:18px}
.card{background:var(--glass);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--sh);padding:16px}
.section{display:none}.section.show{display:block}
.tabs{display:flex;gap:10px;overflow:auto;padding:10px 2px}
.tab{border:1px solid var(--line);background:#0e1627;color:var(--ink);padding:8px 14px;border-radius:999px;cursor:pointer;white-space:nowrap}
.tab.active{border-color:transparent;background:linear-gradient(90deg,var(--pri2),var(--pri3));color:#fff}
.story{background:linear-gradient(180deg,#0f1a2e,#0f1729);border:1px solid var(--line);border-radius:18px;padding:16px;margin:8px 0}
.story h4{margin:0}.story p{margin:6px 0;color:var(--mut)}
.grid{display:grid;gap:16px}.cols-2{grid-template-columns:repeat(2,1fr)}@media(max-width:900px){.cols-2{grid-template-columns:1fr}}
.spinner{width:42px;height:42px;border:3px solid #1a2840;border-top-color:var(--pri);border-radius:50%;animation:spin 1s linear infinite;margin:20px auto}@keyframes spin{to{transform:rotate(360deg)}}
.modal{position:fixed;inset:0;background:#0008;display:none;align-items:center;justify-content:center;z-index:300}
.modal.on{display:flex}.box{width:min(780px,92vw);background:var(--solid);border:1px solid var(--line);border-radius:18px;box-shadow:var(--sh);padding:16px}
.toast{position:fixed;right:16px;bottom:16px;background:#0b1322e6;border:1px solid var(--line);padding:10px 14px;border-radius:12px;display:none}
input,textarea,select{width:100%;background:#0b1422;border:1px solid var(--line);color:var(--ink);padding:11px;border-radius:12px}
</style>
</head>
<body>
<div class="app">
  <div class="header">
    <div class="brand">ğŸ“š ì—°í˜¸ì˜ ìŠ¤í† ë¦¬ë¶</div>
    <div class="header-nav">
      <button class="btn" data-page="home">í™ˆ</button>
      <button class="btn" data-page="stories">ìŠ¤í† ë¦¬ë¶</button>
      <button class="btn pri" data-page="admin">ê´€ë¦¬ì</button>
    </div>
  </div>

  <div class="main">
    <div class="container">
      <section id="home" class="section show">
        <div class="card">
          <h2>í™˜ì˜í•©ë‹ˆë‹¤ ğŸ‘‹</h2>
          <p>ì‹œë¦¬ì¦ˆë¥¼ ì„ íƒí•˜ë©´ í•´ë‹¹ ì±…ë§Œ ë³´ì…ë‹ˆë‹¤. ê´€ë¦¬ìì—ì„œ ì‹œë¦¬ì¦ˆ/ì±…ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>
        </div>
      </section>

      <section id="stories" class="section">
        <div class="card">
          <h2>ìŠ¤í† ë¦¬ë¶</h2>
          <div id="series-tabs" class="tabs"></div>
          <div id="series-desc" class="mut"></div>
          <div id="story-list" class="grid cols-2"></div>
          <div id="story-loading" class="spinner" style="display:none"></div>
        </div>
      </section>

      <section id="admin" class="section">
        <div id="admin-login" class="card">
          <h3>ê´€ë¦¬ì ë¡œê·¸ì¸</h3>
          <input id="admin-pass" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ (admin1234)"/>
          <button class="btn pri" id="btnAdminLogin">ë¡œê·¸ì¸</button>
        </div>
        <div id="admin-panel" class="card" style="display:none">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
            <h3>ê´€ë¦¬ ì½˜ì†”</h3>
            <div class="row" id="admin-actions" style="display:flex;gap:8px;flex-wrap:wrap">
              <button class="btn pri" id="openSeries">+ ì‹œë¦¬ì¦ˆ</button>
              <button class="btn pri" id="openStory">+ ì±…</button>
              <button class="btn" id="editVersion">ë²„ì „ ìˆ˜ì •</button>
              <button class="btn" id="viewVersion">ë²„ì „ ì´ë ¥ ë³´ê¸°</button>
            </div>
          </div>
          <div class="grid cols-2" style="margin-top:12px">
            <div><h4>ì‹œë¦¬ì¦ˆ</h4><div id="admin-series"></div></div>
            <div><h4>ì±…</h4><div id="admin-stories"></div></div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>

<!-- ê³µì§€ ë°°ë„ˆ / ë²„ì „ í‘œì‹œ -->
<div id="version-box" style="position:fixed;right:14px;bottom:14px;background:rgba(15,23,38,.8);border:1px solid #1c2a40;border-radius:10px;padding:6px 12px;color:#9fb0c3;font-size:13px;backdrop-filter:blur(10px);z-index:200">v0.0.0</div>
<div id="version-banner" style="position:fixed;top:-80px;left:0;right:0;background:rgba(20,33,60,.95);border-bottom:1px solid #2a3b5e;color:#eaf1fb;text-align:center;padding:12px 20px;backdrop-filter:blur(12px);z-index:300;transition:top .5s ease;">
  <span id="version-banner-text"></span>
  <button id="banner-close" style="margin-left:12px;background:none;border:none;color:#9fb0c3;cursor:pointer;font-size:14px">Ã—</button>
</div>

<div id="modal" class="modal"><div class="box"><div style="display:flex;justify-content:space-between;gap:8px;align-items:center"><h3 id="modal-title">Modal</h3><button class="btn" id="modal-close">ë‹«ê¸°</button></div><div id="modal-body"></div></div></div>
<div id="toast" class="toast"></div>

<!-- Firebase (ì„ íƒ) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script>
/* ========= 0) í™˜ê²½ ê°ì§€ & ìœ í‹¸ ========= */
const $=id=>document.getElementById(id); const $$=(s,r=document)=>Array.from(r.querySelectorAll(s));
const toast=msg=>{const t=$("toast");t.textContent=msg;t.style.display="block";setTimeout(()=>t.style.display="none",1700)};
const show=id=>{$$(".section").forEach(el=>el.classList.remove("show"));$(id).classList.add("show")};
const esc=s=>String(s??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
$("modal-close").onclick=()=>$("modal").classList.remove("on");
function openModal(title,html){$("modal-title").textContent=title;$("modal-body").innerHTML=html;$("modal").classList.add("on")}

/* ========= 1) ë°ì´í„° ê³„ì¸µ (Firestore or localStorage ìë™ ì „í™˜) ========= */
// ğŸ”‘ Firebase ì„¤ì •(ìˆìœ¼ë©´ ë¶™ì—¬ë„£ê¸°). ë¹„ì›Œë‘ë©´ ìë™ìœ¼ë¡œ localStorage ì‚¬ìš©.
const firebaseConfig = {
  apiKey: "AIzaSyBEBA0ZUVcMBG_G9CtauP02kh4Wneg-5gA",
  authDomain: "storybook-4a13b.firebaseapp.com",
  projectId: "storybook-4a13b",
  storageBucket: "storybook-4a13b.firebasestorage.app",
  messagingSenderId: "756981563455",
  appId: "1:756981563455:web:b0bef64ba3ca2fb39a788a",
  measurementId: "G-CPXLQYTYJY"
};
let USE_FIREBASE=false, db=null;
try{
  if (firebaseConfig && firebaseConfig.apiKey){
    firebase.initializeApp(firebaseConfig);
    db=firebase.firestore();
    USE_FIREBASE=true;
    console.log("[DB] Firestore ì‚¬ìš©");
  }else{
    console.log("[DB] LocalStorage ì‚¬ìš© (firebaseConfig ë¹„ì–´ìˆìŒ)");
  }
}catch(e){ console.warn("[DB] Firebase ì´ˆê¸°í™” ì‹¤íŒ¨ â†’ LocalStorage fallback", e); USE_FIREBASE=false; }

/* --- LocalStorage ê°„ë‹¨ DAO --- */
const LS={
  get:(k,def)=>{try{return JSON.parse(localStorage.getItem(k)??JSON.stringify(def))}catch{ return def }},
  set:(k,v)=>localStorage.setItem(k,JSON.stringify(v)),
  push:(k,obj)=>{const a=LS.get(k,[]);a.unshift(obj);LS.set(k,a);return obj},
  uid:()=>Math.random().toString(36).slice(2)+Date.now().toString(36)
};

/* --- í†µí•© API: series / stories / meta.version / versionHistory --- */
const API={
  async listSeries(){
    if(USE_FIREBASE){ const s=await db.collection("series").orderBy("created","desc").get(); return s.docs.map(d=>({id:d.id,...d.data()})); }
    return LS.get("series",[]);
  },
  async addSeries(name,desc){
    const row={id:LS.uid(),name,desc,created:new Date().toISOString()};
    if(USE_FIREBASE){ const ref=await db.collection("series").add({name,desc,created:new Date()}); return {id:ref.id,name,desc}; }
    return LS.push("series",row);
  },
  async delSeries(id){
    if(USE_FIREBASE){ await db.collection("series").doc(id).delete(); return; }
    LS.set("series", LS.get("series",[]).filter(x=>x.id!==id));
  },
  async listStories(seriesId=null){
    if(USE_FIREBASE){
      let q=db.collection("stories").orderBy("created","desc");
      if(seriesId && seriesId!=="ALL") q=q.where("seriesId","==",seriesId);
      const s=await q.get(); return s.docs.map(d=>({id:d.id,...d.data()}));
    }
    let a=LS.get("stories",[]);
    if(seriesId && seriesId!=="ALL") a=a.filter(x=>x.seriesId===seriesId);
    return a.sort((a,b)=>new Date(b.created)-new Date(a.created));
  },
  async addStory(seriesId,title,text){
    if(USE_FIREBASE){ await db.collection("stories").add({seriesId,title,text,created:new Date()}); return; }
    LS.push("stories",{id:LS.uid(),seriesId,title,text,created:new Date().toISOString()});
  },
  async delStory(id){
    if(USE_FIREBASE){ await db.collection("stories").doc(id).delete(); return; }
    LS.set("stories", LS.get("stories",[]).filter(x=>x.id!==id));
  },
  async getVersion(){
    if(USE_FIREBASE){ const d=await db.collection("meta").doc("version").get(); return d.exists?d.data():null; }
    return LS.get("meta_version", null);
  },
  async setVersion(number,message){
    const payload={number, message, updated: new Date().toISOString()};
    if(USE_FIREBASE){ await db.collection("meta").doc("version").set({number,message,updated:new Date()}); }
    else{ LS.set("meta_version", payload); }
    // history
    const hist={id:LS.uid(),version:number,message,changedBy:"ê´€ë¦¬ì",date:new Date().toISOString()};
    if(USE_FIREBASE){ await db.collection("versionHistory").add({version:number,message,changedBy:"ê´€ë¦¬ì",date:new Date()}); }
    else{ LS.push("versionHistory", hist); }
    return payload;
  },
  async listVersionHistory(limit=15){
    if(USE_FIREBASE){
      const s=await db.collection("versionHistory").orderBy("date","desc").limit(limit).get();
      return s.docs.map(d=>({id:d.id,...d.data()}));
    }
    return LS.get("versionHistory",[]).slice(0,limit);
  }
};

/* ========= 2) ì „ì—­ ìƒíƒœ ========= */
const ADMIN_PASSWORD="admin1234";
let isAdmin=false, currentSeries="ALL";

/* ========= 3) ë„¤ë¹„ ========= */
$$("[data-page]").forEach(b=>b.onclick=()=>{ show(b.dataset.page); if(b.dataset.page==="stories") initStories(); if(b.dataset.page==="admin"&&isAdmin) renderAdmin(); });

/* ========= 4) STORIES (ì‹œë¦¬ì¦ˆ íƒ­ + í•„í„°) ========= */
async function initStories(){
  $("series-tabs").innerHTML="";
  const tabs=$("series-tabs");
  const all=document.createElement("button");
  all.className="tab"; all.textContent="ì „ì²´";
  all.onclick=()=>{currentSeries="ALL"; highlightTabs(); renderStories(); $("series-desc").textContent="ëª¨ë“  ì‹œë¦¬ì¦ˆì˜ ì±…";}
  tabs.appendChild(all);

  const series=await API.listSeries();
  if(series.length===0){ $("series-desc").textContent="ì‹œë¦¬ì¦ˆê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ì„œ ì¶”ê°€í•˜ì„¸ìš”."; $("story-list").innerHTML=""; return; }
  series.forEach(s=>{
    const b=document.createElement("button");
    b.className="tab"; b.textContent=s.name; b.dataset.sid=s.id;
    b.onclick=()=>{ currentSeries=s.id; highlightTabs(); $("series-desc").textContent=s.desc||""; renderStories(); };
    tabs.appendChild(b);
  });

  currentSeries="ALL"; highlightTabs(); $("series-desc").textContent="ëª¨ë“  ì‹œë¦¬ì¦ˆì˜ ì±…"; renderStories();
}
function highlightTabs(){ $$(".tab").forEach(t=>t.classList.toggle("active", (currentSeries==="ALL"&&t.textContent==="ì „ì²´") || t.dataset.sid===currentSeries)); }
async function renderStories(){
  $("story-list").innerHTML=""; $("story-loading").style.display="block";
  const list=await API.listStories(currentSeries);
  $("story-loading").style.display="none";
  if(list.length===0){ $("story-list").innerHTML='<div class="story"><p>ì´ ì‹œë¦¬ì¦ˆì—ëŠ” ì•„ì§ ì±…ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>'; return; }
  list.forEach(s=>{
    const el=document.createElement("div"); el.className="story";
    el.innerHTML=`<h4>${esc(s.title)}</h4><p>${esc((s.text||"").slice(0,220))}${(s.text||"").length>220?"â€¦":""}</p>
    <div class="actions">${isAdmin?`<button class="btn" data-del="${s.id}">ì‚­ì œ</button>`:""}</div>`;
    if(isAdmin) el.querySelector("[data-del]").onclick=async()=>{ if(!confirm("ì‚­ì œí• ê¹Œìš”?"))return; await API.delStory(s.id); toast("ì‚­ì œë¨"); renderStories(); renderAdmin(); };
    $("story-list").appendChild(el);
  });
}

/* ========= 5) ADMIN ========= */
$("btnAdminLogin").onclick=()=>{
  if($("admin-pass").value===ADMIN_PASSWORD){
    isAdmin=true; $("admin-login").style.display="none"; $("admin-panel").style.display="block"; toast("ê´€ë¦¬ì ëª¨ë“œ");
    renderAdmin();
  } else alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
};
$("openSeries").onclick=()=>{
  openModal("ì‹œë¦¬ì¦ˆ ì¶”ê°€", `<form id="fSeries" class="grid"><input id="se-name" placeholder="ì‹œë¦¬ì¦ˆ ì´ë¦„" required><input id="se-desc" placeholder="ì„¤ëª…(ì„ íƒ)"><div style="display:flex;justify-content:flex-end"><button class="btn pri">ì¶”ê°€</button></div></form>`);
  $("fSeries").onsubmit=async e=>{e.preventDefault(); const name=$("se-name").value.trim(), desc=$("se-desc").value.trim(); if(!name)return; await API.addSeries(name,desc); toast("ì‹œë¦¬ì¦ˆ ì¶”ê°€ë¨"); $("modal").classList.remove("on"); initStories(); renderAdmin(); };
};
$("openStory").onclick=async()=>{
  const series=await API.listSeries(); if(series.length===0) return alert("ì‹œë¦¬ì¦ˆë¥¼ ë¨¼ì € ì¶”ê°€í•˜ì„¸ìš”.");
  openModal("ì±… ì¶”ê°€", `<form id="fStory" class="grid">
    <select id="st-series" required>${series.map(s=>`<option value="${s.id}">${esc(s.name)}</option>`).join("")}</select>
    <input id="st-title" placeholder="ì±… ì œëª©" required>
    <textarea id="st-text" rows="6" placeholder="ë³¸ë¬¸ (ì„ íƒ)"></textarea>
    <div style="display:flex;justify-content:flex-end"><button class="btn pri">ì¶”ê°€</button></div></form>`);
  $("fStory").onsubmit=async e=>{e.preventDefault();const sid=$("st-series").value,t=$("st-title").value.trim(),txt=$("st-text").value; if(!sid||!t)return; await API.addStory(sid,t,txt); toast("ì±… ì¶”ê°€ë¨"); $("modal").classList.remove("on"); renderStories(); renderAdmin(); };
};

async function renderAdmin(){
  const sBox=$("admin-series"), tBox=$("admin-stories"); sBox.innerHTML=""; tBox.innerHTML="";
  (await API.listSeries()).forEach(s=>{
    const el=document.createElement("div"); el.className="story";
    el.innerHTML=`<h4>${esc(s.name)}</h4><p>${esc(s.desc||"")}</p><div class="actions"><button class="btn" data-del>ì‚­ì œ</button></div>`;
    el.querySelector("[data-del]").onclick=async()=>{ if(!confirm("ì‹œë¦¬ì¦ˆ ì‚­ì œ? (ì´ë¯¸ ë“±ë¡ëœ ì±…ì€ ë‚¨ìŠµë‹ˆë‹¤/ë¡œì»¬)"))return; await API.delSeries(s.id); toast("ì‹œë¦¬ì¦ˆ ì‚­ì œë¨"); initStories(); renderAdmin(); };
    sBox.appendChild(el);
  });
  (await API.listStories("ALL")).forEach(st=>{
    const el=document.createElement("div"); el.className="story";
    el.innerHTML=`<h4>${esc(st.title)}</h4><div class="mut">${esc(st.seriesId)}</div>`;
    tBox.appendChild(el);
  });
}

/* ========= 6) Version System (í‘œì‹œ + ìë™ì¦ê°€ + ë°°ë„ˆ + ì´ë ¥) ========= */
function incrementVersion(v){const p=(v||"v0.0.0").replace(/[^\d.]/g,"").split(".").map(n=>parseInt(n)||0);while(p.length<3)p.push(0);p[2]++; if(p[2]>=10){p[2]=0;p[1]++;} if(p[1]>=10){p[1]=0;p[0]++;} return `v${p.join(".")}`;}

async function loadVersionUI(){
  const cur=await API.getVersion();
  if(cur){ $("version-box").textContent = cur.number || "v0.0.0"; $("version-box").title="ì—…ë°ì´íŠ¸: "+(cur.updated?new Date(cur.updated).toLocaleString():""); versionBanner(cur); }
  else{ $("version-box").textContent="v0.0.0"; }
}
function versionBanner(v){
  const current=v.number||"v0.0.0";
  const last=localStorage.getItem("lastVersion");
  if(last!==current){
    const msg=v.message||"ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ê°€ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!";
    $("version-banner-text").textContent = `${current} â€” ${msg}`;
    $("version-banner").style.top="0";
    $("banner-close").onclick=()=>{ $("version-banner").style.top="-80px"; localStorage.setItem("lastVersion",current); };
  }
}
$("editVersion").onclick=()=>{
  openModal("ë²„ì „ ìˆ˜ì •", `<form id="fVer" class="grid">
    <input id="v-num" placeholder="ì˜ˆ: v1.2.0" required>
    <textarea id="v-msg" rows="3" placeholder="ê³µì§€ ë©”ì‹œì§€ (ì˜ˆ: UI ê°œì„  ë° ë²„ê·¸ ìˆ˜ì •)"></textarea>
    <div style="display:flex;gap:8px;justify-content:flex-end">
      <button class="btn" type="button" id="inc">ìë™ ì¦ê°€</button>
      <button class="btn pri">ì €ì¥</button>
    </div></form>`);
  // í˜„ì¬ê°’ ì„¸íŒ…
  API.getVersion().then(v=>{ if(v){$("v-num").value=v.number||""; $("v-msg").value=v.message||"";} });
  $("inc").onclick=()=>{$("v-num").value=incrementVersion($("v-num").value||"v0.0.0");};
  $("fVer").onsubmit=async e=>{
    e.preventDefault();
    const num=$("v-num").value.trim(); const msg=$("v-msg").value.trim()||"ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ê°€ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!";
    if(!num) return;
    await API.setVersion(num,msg);
    localStorage.setItem("lastVersion", num);
    toast("ë²„ì „ ì—…ë°ì´íŠ¸ ì™„ë£Œ");
    $("modal").classList.remove("on");
    loadVersionUI();
  };
};
$("viewVersion").onclick=async()=>{
  const list=await API.listVersionHistory(15);
  if(list.length===0) return openModal("ë²„ì „ ì´ë ¥", `<div class="card">ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.</div>`);
  const html=list.map(v=>`<div class="story"><h4>${esc(v.version)}</h4><p>${esc(v.message||"")}</p><div class="mut">${new Date(v.date??v.updated??Date.now()).toLocaleString()}</div></div>`).join("");
  openModal("ë²„ì „ ì´ë ¥", `<div class="grid">${html}</div>`);
};

/* ========= 7) ë¶€íŒ… ========= */
window.addEventListener("load", async ()=>{
  show("home");
  await initStories();
  await loadVersionUI();

  // GitHub Pages ìƒˆë¡œê³ ì¹¨ ì‹œì—ë„ ìµœì‹  ë²„ì „ ë°˜ì˜
  if (performance && performance.getEntriesByType && performance.getEntriesByType("navigation")[0]?.type==="reload"){
    await loadVersionUI();
  }

  // ë°ëª¨ìš© ê¸°ë³¸ ë°ì´í„°(ë¡œì»¬) ì£¼ì…: ë¹„ì–´ìˆì„ ë•Œë§Œ
  if(!USE_FIREBASE){
    if(API && (await API.listSeries()).length===0){
      await API.addSeries("ì—°í˜¸ì˜ ëª¨í—˜", "ìš°ë¦¬ì˜ ì²« ë²ˆì§¸ ì‹œë¦¬ì¦ˆ");
      const s2=await API.addSeries("ë°”ë‹¤ì˜ ë¹„ë°€", "ê¹Šì€ ë°”ë‹¤ë¡œ ë– ë‚˜ëŠ” ì—¬í–‰");
      const series=(await API.listSeries());
      await API.addStory(series[0].id,"ì²« ë§Œë‚¨","ìˆ² ì†ì—ì„œ ìƒˆë¡œìš´ ì¹œêµ¬ë¥¼ ë§Œë‚¬ë‹¤â€¦");
      await API.addStory(series[0].id,"ë„ì „","ìš°ë¦¬ëŠ” í•¨ê»˜ ë„ì „ì— ë‚˜ì„°ë‹¤â€¦");
      await API.addStory(s2.id,"ë°”ë‹¤ ì…ë¬¸","íŒŒë„ê°€ ë°˜ì§ì¸ë‹¤â€¦");
    }
    if(!(await API.getVersion())) await API.setVersion("v1.0.0","ì´ˆê¸° ë°°í¬");
    await initStories(); await loadVersionUI();
  }
});
</script>
</body>
</html>
